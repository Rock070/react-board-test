(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{18:function(n,t,e){},23:function(n,t,e){"use strict";e.r(t);var r=e(1),c=e(0),i=e(9),o=e.n(i),a=(e(18),e(4)),u=e(2),s=e(3);function d(){var n=Object(u.a)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  color: white;\n  font-size: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return d=function(){return n},n}function j(){var n=Object(u.a)(["\n  meargin-top: 16px;\n  color: red;\n"]);return j=function(){return n},n}function b(){var n=Object(u.a)(["\n    text-align: center;\n    width: 100%;\n    font-size: 16px;\n    margin-top: 16px;\n    white-space: pre-line;\n    word-break: break-word;\n"]);return b=function(){return n},n}function f(){var n=Object(u.a)([""]);return f=function(){return n},n}function l(){var n=Object(u.a)(["\n    color: rgba(0, 0, 0, 0.7);\n    font-size: 14px;\n"]);return l=function(){return n},n}function p(){var n=Object(u.a)(["\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding-bottom: 4px;\n    border-bottom: 1px solid rgba(0, 0, 0, 0.3);\n"]);return p=function(){return n},n}function h(){var n=Object(u.a)(["\n    padding: 8px 16px;\n    border-radius: 7px;\n    border: 1px solid black;\n\n    & + & {\n        margin-top: 10px;\n    }\n"]);return h=function(){return n},n}function O(){var n=Object(u.a)(["\n  margin-top:  16px;\n"]);return O=function(){return n},n}function x(){var n=Object(u.a)(["\n  margin-top:  8px;\n  display: block;\n"]);return x=function(){return n},n}function m(){var n=Object(u.a)(["\n    display: block;\n    width: 100%;\n"]);return m=function(){return n},n}function g(){var n=Object(u.a)(["\n  margin-top: 16px;\n"]);return g=function(){return n},n}function v(){var n=Object(u.a)(["\n  color: #333;\n"]);return v=function(){return n},n}function y(){var n=Object(u.a)(["\n  width: 400px;\n  margin: 0 auto;\n"]);return y=function(){return n},n}var w=s.a.div(y()),k=s.a.h1(v()),S=s.a.form(g()),z=s.a.textarea(m()),J=s.a.button(x()),A=s.a.div(O()),D=s.a.div(h()),E=s.a.div(p()),L=s.a.div(l()),N=s.a.div(f()),_=s.a.div(b()),B=s.a.div(j()),C=s.a.div(d());function F(n){var t=n.author,e=n.time,c=n.children;return Object(r.jsxs)(D,{children:[Object(r.jsxs)(E,{children:[Object(r.jsxs)(L,{children:[" ",t," "]}),Object(r.jsx)(N,{children:e})]}),Object(r.jsx)(_,{children:c})]})}var I=function(){var n=Object(c.useState)(null),t=Object(a.a)(n,2),e=t[0],i=t[1],o=Object(c.useState)(null),u=Object(a.a)(o,2),s=u[0],d=u[1],j=Object(c.useState)(),b=Object(a.a)(j,2),f=b[0],l=b[1],p=Object(c.useState)(),h=Object(a.a)(p,2),O=h[0],x=h[1],m=Object(c.useState)(!1),g=Object(a.a)(m,2),v=g[0],y=g[1],D=function(){fetch("https://student-json-api.lidemy.me/comments?_sort=createdAt&_order=desc").then((function(n){return n.json()})).then((function(n){i(n),d(null)})).catch((function(n){d(n.message),console.log("err")}))};return Object(c.useEffect)((function(){D()}),[]),Object(r.jsxs)(w,{children:[v&&Object(r.jsx)(C,{children:" Loading...... "}),Object(r.jsx)(k,{children:"\u7559\u8a00\u677f"}),Object(r.jsxs)(S,{onSubmit:function(n){n.preventDefault(),v||(y(!0),fetch("https://student-json-api.lidemy.me/comments",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:"rock",body:f})}).then((function(n){return n.json()})).then((function(n){y(!1),0!==n.ok?(D(),l("")):x(n.message)})).catch((function(n){y(!1),x(n.message)})))},children:[Object(r.jsx)(z,{value:f,onFocus:function(n){x(null)},onChange:function(n){l(n.target.value)},rows:10}),Object(r.jsx)(J,{children:"\u9001\u51fa\u7559\u8a00"}),O&&Object(r.jsx)(B,{children:O})]}),s&&Object(r.jsxs)(B,{children:["Something went wrong! ",s.toString()]}),e&&0===e.length&&Object(r.jsx)("div",{children:" NoMessage "}),Object(r.jsx)(A,{children:e&&e.map((function(n){return Object(r.jsx)(F,{author:n.nickname,time:new Date(n.createdAt).toLocaleString(),children:n.body},n.id)}))})]})};o.a.render(Object(r.jsx)(I,{}),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.769e6074.chunk.js.map